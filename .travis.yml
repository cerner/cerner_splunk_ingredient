branches:
  except:
    - master
language: ruby
cache: bundler
sudo: false
bundler_args: --without local
rvm:
  - 2.3.1
env:
  - TEST_GROUP=1
  - TEST_GROUP=2
  - TEST_GROUP=3
  - TEST_GROUP=4
  - TEST_GROUP=5
  - TEST_GROUP=6
script:
  - bundle exec rubocop
  - bundle exec foodcritic -f any .
  - bundle exec parallel_test spec/unit/ -n 6 --only-group $TEST_GROUP --group-by filesize --type rspec
